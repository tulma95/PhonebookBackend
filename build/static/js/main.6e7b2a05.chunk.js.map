{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","components/ErrorNotification.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","filter","onChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","_ref","person","handleDelete","name","number","onClick","id","Persons","filteredList","persons","e","toLowerCase","includes","map","components_Person","key","baseUrl","services_persons","axios","get","then","res","data","newObject","post","delete","concat","put","Notification","message","style","color","background","width","fontSize","borderStyle","padding","ErrorNotification","ReactDOM","render","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","search","setSearch","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","notificationMessage","setNotificationMessage","useEffect","personService","initialPersons","components_Notification","components_ErrorNotification","components_Filter","event","target","components_PersonForm","preventDefault","personObject","some","window","confirm","updatedPerson","find","returnedPerson","catch","error","newPerson","console","log","response","setTimeout","components_Persons","newList","document","getElementById"],"mappings":"qMAWeA,EARA,SAACC,GACd,OACEC,EAAAC,EAAAC,cAAA,yCACoBF,EAAAC,EAAAC,cAAA,SAAOC,MAAOJ,EAAMK,OAAQC,SAAUN,EAAMM,aCYrDC,EAhBI,SAACP,GAClB,OACEC,EAAAC,EAAAC,cAAA,QAAMK,SAAUR,EAAMS,WACpBR,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOC,MAAOJ,EAAMU,QAASJ,SAAUN,EAAMW,oBAErDV,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SAAOC,MAAOJ,EAAMY,UAAWN,SAAUN,EAAMa,sBAEzDZ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQW,KAAK,UAAb,kBCAOC,EAVA,SAAAC,GAA8B,IAA3BC,EAA2BD,EAA3BC,OAAQC,EAAmBF,EAAnBE,aACxB,OACEjB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAKc,EAAOE,MACZlB,EAAAC,EAAAC,cAAA,UAAKc,EAAOG,QACZnB,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,UAAQkB,QAAS,kBAAMH,EAAaD,EAAOK,MAA3C,aCeKC,EAnBC,SAACvB,GACf,IAAMwB,EAAexB,EAAMyB,QACxBpB,OAAO,SAAAqB,GAAC,OAAIA,EAAEP,KAAKQ,cAAcC,SAAS5B,EAAMK,OAAOsB,iBAC1D,OACE1B,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACGqB,EACEK,IAAI,SAAAH,GAAC,OACJzB,EAAAC,EAAAC,cAAC2B,EAAD,CAAQC,IAAKL,EAAEJ,GACbL,OAAQS,EACRR,aAAclB,EAAMkB,oCCZ5Bc,EAAU,eAqBDC,EAnBA,WAEb,OADgBC,IAAMC,IAAIH,GACXI,KAAK,SAAAC,GAAG,OAAIA,EAAIC,QAiBlBL,EAdA,SAAAM,GAEb,OADgBL,IAAMM,KAAKR,EAASO,GACrBH,KAAK,SAAAC,GAAG,OAAIA,EAAIC,QAYlBL,EATM,SAAAX,GACnB,OAAOY,IAAMO,OAAN,GAAAC,OAAgBV,EAAhB,KAAAU,OAA2BpB,KAQrBW,EALM,SAACM,GAEpB,OADgBL,IAAMS,IAAN,GAAAD,OAAaV,EAAb,KAAAU,OAAwBH,EAAUjB,IAAMiB,GACzCH,KAAK,SAAAC,GAAG,OAAIA,EAAIC,QCIlBM,EArBM,SAAA5B,GAAiB,IAAd6B,EAAc7B,EAAd6B,QAUtB,OAAgB,OAAZA,EACK,KAIP5C,EAAAC,EAAAC,cAAA,OAAK2C,MAdmB,CACxBC,MAAO,QACPC,WAAY,YACZC,MAAO,OACPC,SAAU,GACVC,YAAa,QACbC,QAAS,KASNP,ICKQQ,EArBW,SAAArC,GAAiB,IAAd6B,EAAc7B,EAAd6B,QAU3B,OAAgB,OAAZA,EACK,KAIP5C,EAAAC,EAAAC,cAAA,OAAK2C,MAdmB,CACxBC,MAAO,MACPC,WAAY,YACZC,MAAO,OACPC,SAAU,GACVC,YAAa,QACbC,QAAS,KASNP,UCkGPS,IAASC,OAAOtD,EAAAC,EAAAC,cA1GJ,WAAM,IAAAqD,EACcC,mBAAS,IADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACT/B,EADSiC,EAAA,GACAG,EADAH,EAAA,GAAAI,EAEcL,mBAAS,IAFvBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAETpD,EAFSqD,EAAA,GAEAC,EAFAD,EAAA,GAAAE,EAGkBR,mBAAS,IAH3BS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAGTrD,EAHSsD,EAAA,GAGEC,EAHFD,EAAA,GAAAE,EAIYX,mBAAS,IAJrBY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAITE,EAJSD,EAAA,GAIDE,EAJCF,EAAA,GAAAG,EAKwBf,mBAAS,MALjCgB,EAAAd,OAAAC,EAAA,EAAAD,CAAAa,EAAA,GAKTE,EALSD,EAAA,GAKKE,EALLF,EAAA,GAAAG,EAMsCnB,mBAAS,MAN/CoB,EAAAlB,OAAAC,EAAA,EAAAD,CAAAiB,EAAA,GAMTE,EANSD,EAAA,GAMYE,EANZF,EAAA,GAQhBG,oBAAU,WACRC,IAEG7C,KAAK,SAAA8C,GACJrB,EAAWqB,MAEd,IAwEH,OACEjF,EAAAC,EAAAC,cAAA,WAEEF,EAAAC,EAAAC,cAACgF,EAAD,CAActC,QAASiC,IACvB7E,EAAAC,EAAAC,cAACiF,EAAD,CAAmBvC,QAAS6B,IAE5BzE,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACkF,EAAD,CAAQhF,OAAQiE,EAAQhE,SA5BD,SAACgF,GAC1B,IAAMlF,EAAQkF,EAAMC,OAAOnF,MAC3BmE,EAAUnE,MA2BRH,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAACqF,EAAD,CAAY/E,UA/EE,SAAC6E,GACjBA,EAAMG,iBACN,IAAMC,EAAe,CACnBvE,KAAMT,EACNU,OAAQR,GAGV,GAAIa,EAAQkE,KAAK,SAAA1E,GAAM,OAAIA,EAAOE,OAAST,KACzC,GAAIkF,OAAOC,QAAP,GAAAnD,OAAkBhC,EAAlB,0DAAmF,CACrF,IAAMoF,EAAgBrE,EAAQsE,KAAK,SAAArE,GAAC,OAAIA,EAAEP,OAAST,IACnDoF,EAAc1E,OAASR,EACvBqE,EAA2Ba,GACxB1D,KAAK,SAAA4D,GACJnC,EAAWpC,EACRI,IAAI,SAAAZ,GAAM,OAAIA,EAAOK,KAAOwE,EAAcxE,GAAKL,EAAS+E,KAE3DhC,EAAW,IACXG,EAAa,IACbY,EAAsB,GAAArC,OAAIsD,EAAe7E,KAAnB,yBACrB8E,MAAM,SAAAC,GACPvB,EAAgB,yCAItBM,EAAqBS,GAClBtD,KAAK,SAAA+D,GACJtC,EAAWpC,EAAQiB,OAAOyD,IAC1BnC,EAAW,IACXG,EAAa,IACbY,EAAsB,gBAAArC,OAAcyD,EAAUhF,SAC7C8E,MAAM,SAAAC,GACPE,QAAQC,IAAIH,EAAMI,SAAShE,MAC3BqC,EAAgBuB,EAAMI,SAAShE,KAAK4D,SAG1CK,WAAW,WACTxB,EAAuB,MACvBJ,EAAgB,OACf,MA0CCjE,QAASA,EAASC,iBAvCC,SAAC2E,GACxBtB,EAAWsB,EAAMC,OAAOnF,QAuCpBQ,UAAWA,EAAWC,mBApCD,SAACyE,GAC1BnB,EAAamB,EAAMC,OAAOnF,UAoCxBH,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACqG,EAAD,CAASnG,OAAQiE,EACf7C,QAASA,EACTP,aA/Be,SAACI,GACpB2D,EAA2B3D,GACxBc,KAAK,WACJ,IAAMqE,EAAUhF,EAAQpB,OAAO,SAAAY,GAAM,OAAIA,EAAOK,KAAOA,IACvDuC,EAAW4C,GACX1B,EAAsB,wCAEvBkB,MAAM,SAAAC,GACLvB,EAAgB,2BAEpB4B,WAAW,WACTxB,EAAuB,MACvBJ,EAAgB,OACf,UAuBS,MAAS+B,SAASC,eAAe","file":"static/js/main.6e7b2a05.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div>\r\n      rajaa näytettäviä <input value={props.filter} onChange={props.onChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.addPerson}>\r\n      <div>\r\n        nimi: <input value={props.newName} onChange={props.handleNameChange} />\r\n      </div>\r\n      <div>\r\n        numero: <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">lisää</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n  return (\r\n    <tr>\r\n      <td>{person.name}</td>\r\n      <td>{person.number}</td>\r\n      <td><button onClick={() => handleDelete(person.id)}>delete</button></td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from '../components/Person'\r\n\r\nconst Persons = (props) => {\r\n  const filteredList = props.persons\r\n    .filter(e => e.name.toLowerCase().includes(props.filter.toLowerCase()))\r\n  return (\r\n    <table>\r\n      <tbody>\r\n        {filteredList\r\n          .map(e =>\r\n            <Person key={e.id}\r\n              person={e}\r\n              handleDelete={props.handleDelete} />\r\n          )}\r\n      </tbody>\r\n    </table>\r\n\r\n  )\r\n}\r\n\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(res => res.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(res => res.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst changeNumber = (newObject) => {\r\n  const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\r\n  return request.then(res => res.data)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, changeNumber }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  const notificationStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    width: '100%',\r\n    fontSize: 30,\r\n    borderStyle: 'solid',\r\n    padding: 20\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={notificationStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n  const notificationStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    width: '100%',\r\n    fontSize: 30,\r\n    borderStyle: 'solid',\r\n    padding: 20\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={notificationStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorNotification","import ReactDOM from 'react-dom';\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        const updatedPerson = persons.find(e => e.name === newName)\n        updatedPerson.number = newNumber\n        personService.changeNumber(updatedPerson)\n          .then(returnedPerson => {\n            setPersons(persons\n              .map(person => person.id !== updatedPerson.id ? person : returnedPerson))\n\n            setNewName('')\n            setNewNumber('')\n            setNotificationMessage(`${returnedPerson.name}n numero vaihdettu`)\n          }).catch(error => {\n            setErrorMessage('Numeron vaihto epäonnistui')\n          })\n      }\n    } else {\n      personService.create(personObject)\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson))\n          setNewName('')\n          setNewNumber('')\n          setNotificationMessage(`Lisättiin ${newPerson.name}`)\n        }).catch(error => {\n          console.log(error.response.data);\n          setErrorMessage(error.response.data.error)\n        })\n    }\n    setTimeout(() => {\n      setNotificationMessage(null)\n      setErrorMessage(null)\n    }, 5000);\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    const value = event.target.value\n    setSearch(value)\n  }\n\n  const handleDelete = (id) => {\n    personService.deletePerson(id)\n      .then(() => {\n        const newList = persons.filter(person => person.id !== id)\n        setPersons(newList)\n        setNotificationMessage(`Henkilö poistettu onnistuneesti`)\n      })\n      .catch(error => {\n        setErrorMessage('Poisto epäonnistui')\n      })\n    setTimeout(() => {\n      setNotificationMessage(null)\n      setErrorMessage(null)\n    }, 5000);\n  }\n\n  return (\n    <div>\n\n      <Notification message={notificationMessage} />\n      <ErrorNotification message={errorMessage} />\n\n      <h2>Puhelinluettelo</h2>\n      <Filter filter={search} onChange={handleFilterChange} />\n      <h3>Lisää uusi</h3>\n      <PersonForm addPerson={addPerson}\n        newName={newName} handleNameChange={handleNameChange}\n        newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numerot</h3>\n      <Persons filter={search}\n        persons={persons}\n        handleDelete={handleDelete} />\n    </div>\n  )\n\n}\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}