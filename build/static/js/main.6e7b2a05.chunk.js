(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(39)},37:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(11),u=t.n(r),l=t(0),o=t.n(l),c=function(e){return o.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4 ",o.a.createElement("input",{value:e.filter,onChange:e.onChange}))},i=function(e){return o.a.createElement("form",{onSubmit:e.addPerson},o.a.createElement("div",null,"nimi: ",o.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),o.a.createElement("div",null,"numero: ",o.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},m=function(e){var n=e.person,t=e.handleDelete;return o.a.createElement("tr",null,o.a.createElement("td",null,n.name),o.a.createElement("td",null,n.number),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){return t(n.id)}},"delete")))},s=function(e){var n=e.persons.filter(function(n){return n.name.toLowerCase().includes(e.filter.toLowerCase())});return o.a.createElement("table",null,o.a.createElement("tbody",null,n.map(function(n){return o.a.createElement(m,{key:n.id,person:n,handleDelete:e.handleDelete})})))},d=t(3),f=t.n(d),h="/api/persons",b=function(){return f.a.get(h).then(function(e){return e.data})},E=function(e){return f.a.post(h,e).then(function(e){return e.data})},v=function(e){return f.a.delete("".concat(h,"/").concat(e))},g=function(e){return f.a.put("".concat(h,"/").concat(e.id),e).then(function(e){return e.data})},p=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{style:{color:"green",background:"lightgrey",width:"100%",fontSize:30,borderStyle:"solid",padding:20}},n)},w=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{style:{color:"red",background:"lightgrey",width:"100%",fontSize:30,borderStyle:"solid",padding:20}},n)};t(37);u.a.render(o.a.createElement(function(){var e=Object(l.useState)([]),n=Object(a.a)(e,2),t=n[0],r=n[1],u=Object(l.useState)(""),m=Object(a.a)(u,2),d=m[0],f=m[1],h=Object(l.useState)(""),j=Object(a.a)(h,2),O=j[0],C=j[1],y=Object(l.useState)(""),S=Object(a.a)(y,2),N=S[0],k=S[1],D=Object(l.useState)(null),L=Object(a.a)(D,2),P=L[0],z=L[1],J=Object(l.useState)(null),T=Object(a.a)(J,2),x=T[0],B=T[1];Object(l.useEffect)(function(){b().then(function(e){r(e)})},[]);return o.a.createElement("div",null,o.a.createElement(p,{message:x}),o.a.createElement(w,{message:P}),o.a.createElement("h2",null,"Puhelinluettelo"),o.a.createElement(c,{filter:N,onChange:function(e){var n=e.target.value;k(n)}}),o.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),o.a.createElement(i,{addPerson:function(e){e.preventDefault();var n={name:d,number:O};if(t.some(function(e){return e.name===d})){if(window.confirm("".concat(d," on jo luettelossa, korvataanko vanha numero uudella?"))){var a=t.find(function(e){return e.name===d});a.number=O,g(a).then(function(e){r(t.map(function(n){return n.id!==a.id?n:e})),f(""),C(""),B("".concat(e.name,"n numero vaihdettu"))}).catch(function(e){z("Numeron vaihto ep\xe4onnistui")})}}else E(n).then(function(e){r(t.concat(e)),f(""),C(""),B("Lis\xe4ttiin ".concat(e.name))}).catch(function(e){console.log(e.response.data),z(e.response.data.error)});setTimeout(function(){B(null),z(null)},5e3)},newName:d,handleNameChange:function(e){f(e.target.value)},newNumber:O,handleNumberChange:function(e){C(e.target.value)}}),o.a.createElement("h3",null,"Numerot"),o.a.createElement(s,{filter:N,persons:t,handleDelete:function(e){v(e).then(function(){var n=t.filter(function(n){return n.id!==e});r(n),B("Henkil\xf6 poistettu onnistuneesti")}).catch(function(e){z("Poisto ep\xe4onnistui")}),setTimeout(function(){B(null),z(null)},5e3)}}))},null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.6e7b2a05.chunk.js.map