(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(39)},37:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(2),u=t(11),r=t.n(u),l=t(0),c=t.n(l),o=function(e){return c.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4 ",c.a.createElement("input",{value:e.filter,onChange:e.onChange}))},i=function(e){return c.a.createElement("form",{onSubmit:e.addPerson},c.a.createElement("div",null,"nimi: ",c.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),c.a.createElement("div",null,"numero: ",c.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},m=function(e){var n=e.person,t=e.handleDelete;return c.a.createElement("tr",null,c.a.createElement("td",null,n.name),c.a.createElement("td",null,n.number),c.a.createElement("td",null,c.a.createElement("button",{onClick:function(){return t(n.id)}},"delete")))},d=function(e){var n=e.persons.filter(function(n){return n.name.toLowerCase().includes(e.filter.toLowerCase())});return c.a.createElement("table",null,c.a.createElement("tbody",null,n.map(function(n){return c.a.createElement(m,{key:n.id,person:n,handleDelete:e.handleDelete})})))},s=t(3),f=t.n(s),h="/api/persons",b=function(){return f.a.get(h).then(function(e){return e.data})},E=function(e){return f.a.post(h,e).then(function(e){return e.data})},v=function(e){return f.a.delete("".concat(h,"/").concat(e))},g=function(e){return f.a.put("".concat(h,"/").concat(e.id),e).then(function(e){return e.data})},p=function(e){var n=e.message;return null===n?null:c.a.createElement("div",{style:{color:"green",background:"lightgrey",width:"100%",fontSize:30,borderStyle:"solid",padding:20}},n)},w=function(e){var n=e.message;return null===n?null:c.a.createElement("div",{style:{color:"red",background:"lightgrey",width:"100%",fontSize:30,borderStyle:"solid",padding:20}},n)};t(37);r.a.render(c.a.createElement(function(){var e=Object(l.useState)([]),n=Object(a.a)(e,2),t=n[0],u=n[1],r=Object(l.useState)(""),m=Object(a.a)(r,2),s=m[0],f=m[1],h=Object(l.useState)(""),j=Object(a.a)(h,2),O=j[0],C=j[1],y=Object(l.useState)(""),S=Object(a.a)(y,2),k=S[0],N=S[1],D=Object(l.useState)(null),L=Object(a.a)(D,2),P=L[0],z=L[1],H=Object(l.useState)(null),J=Object(a.a)(H,2),T=J[0],x=J[1];Object(l.useEffect)(function(){b().then(function(e){u(e)})},[]);return c.a.createElement("div",null,c.a.createElement(p,{message:T}),c.a.createElement(w,{message:P}),c.a.createElement("h2",null,"Puhelinluettelo"),c.a.createElement(o,{filter:k,onChange:function(e){var n=e.target.value;N(n)}}),c.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),c.a.createElement(i,{addPerson:function(e){e.preventDefault();var n={name:s,number:O};if(t.some(function(e){return e.name===s})){if(window.confirm("".concat(s," on jo luettelossa, korvataanko vanha numero uudella?"))){var a=t.find(function(e){return e.name===s});a.number=O,g(a).then(function(e){u(t.map(function(n){return n.id!==a.id?n:e})),x("".concat(e.name,"n numero vaihdettu"))}).catch(function(e){z("Numeron vaihto ep\xe4onnistui")})}}else E(n).then(function(e){u(t.concat(e)),f(""),C(""),x("Lis\xe4ttiin ".concat(e.name))}).catch(function(e){z("Henkil\xf6n luonti ep\xe4onnistui")});setTimeout(function(){x(null),z(null)},5e3)},newName:s,handleNameChange:function(e){f(e.target.value)},newNumber:O,handleNumberChange:function(e){C(e.target.value)}}),c.a.createElement("h3",null,"Numerot"),c.a.createElement(d,{filter:k,persons:t,handleDelete:function(e){v(e).then(function(){var n=t.filter(function(n){return n.id!==e});u(n),x("Henkil\xf6 poistettu onnistuneesti")}).catch(function(e){z("Poisto ep\xe4onnistui")}),setTimeout(function(){x(null),z(null)},5e3)}}))},null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.6a61e027.chunk.js.map